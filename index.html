<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap 101 Template</title>
    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <!-- jQuery UI -->
    <link href="css/ui-lightness/jquery-ui-1.10.4.custom.css" rel="stylesheet">
<style>
	#wrapp{margin-top: 80px; }
			.column {
				width: 170px;
				float: left;
				padding-bottom: 100px;
			}
			.portlet {
				margin: 0 1em 1em 0;
			}
			.portlet-header {
				margin: 0.3em;
				padding-bottom: 4px;
				padding-left: 0.2em;
			}
			.portlet-header .ui-icon {
				float: right;
			}
			.portlet-content {
				padding: 0.4em;
			}
			.ui-sortable-placeholder {
				border: 1px dotted black;
				visibility: visible !important;
				height: 50px !important;
			}
			.ui-sortable-placeholder * {
				visibility: hidden;
			}	
</style>
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
		<!-- Menu START -->				
		<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
			<div class="container">
				<div class="navbar-header">
					<a class="navbar-brand" href="#">Project name</a>
				</div>
			</div>
		</div>
		<!-- Menu END -->
		
		<div class="container" id="wrapp">
			<header>
				<div class="well">
					<h1>jQuery UI Portlet demo</h1>
					<h3>Portfolio</h3>
				</div>
			</header>
			<!-- Main content START -->			
			<div class="row">
				<div class="col-md-7">
					
						
    <!--  -->
		<div class="column" id="left">
			<div class="portlet ui-widget ui-widget-content ui-helper-clearfix ui-corner-all" id="item_1">
				<div class="portlet-header ui-widget-header ui-corner-all">
					Feeds 1<span class="ui-icon ui-icon-minusthick"></span>
				</div>

				<div class="portlet-content">
					Lorem ipsum dolor sit amet, consectetuer adipiscing elit
				</div>
			</div>
			<div class="portlet ui-widget ui-widget-content ui-helper-clearfix ui-corner-all" id="item_2">
				<div class="portlet-header ui-widget-header ui-corner-all">
					News 2<span class="ui-icon ui-icon-minusthick"></span>
				</div>

				<div class="portlet-content">
					Lorem ipsum dolor sit amet, consectetuer adipiscing elit
				</div>
			</div>
		</div>

		<div class="column" id="middle">
			<div class="portlet ui-widget ui-widget-content ui-helper-clearfix ui-corner-all" id="item_3">
				<div class="portlet-header ui-widget-header ui-corner-all">
					Shopping 3<span class="ui-icon ui-icon-minusthick"></span>
				</div>

				<div class="portlet-content">
					Lorem ipsum dolor sit amet, consectetuer adipiscing elit
				</div>
			</div>
		</div>

		<div class="column" id="right">
			<div class="portlet ui-widget ui-widget-content ui-helper-clearfix ui-corner-all" id="item_4">
				<div class="portlet-header ui-widget-header ui-corner-all">
					Links 4<span class="ui-icon ui-icon-minusthick"></span>
				</div>

				<div class="portlet-content">
					Lorem ipsum dolor sit amet, consectetuer adipiscing elit
				</div>
			</div>
			<div class="portlet ui-widget ui-widget-content ui-helper-clearfix ui-corner-all" id="item_5">
				<div class="portlet-header ui-widget-header ui-corner-all">
					Images 5<span class="ui-icon ui-icon-minusthick"></span>
				</div>

				<div class="portlet-content">
					Lorem ipsum dolor sit amet, consectetuer adipiscing elit
				</div>
			</div>
		</div>       
    <!--  -->
						
					
				</div>
				<div class="col-md-5">
<pre id='so' style="padding:5px;font-size:medium;"> <div id="info_cols" style="padding:5px;font-size:small;"><p>placeholder for debug</p></div>	</pre>						
				</div>
				
				
			</div>
			<!-- Main content END -->					
			<footer>
				<div class="well well-sm">
					<p  class="text-center" style="margin-bottom: 0px;">
						<strong> &copy; 2014</strong>
					</p>
				</div>
			</footer>
		</div>		

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>
    <!-- jQuery UI customized JavaScript -->    
	<script src="js/jquery-ui-1.10.4.custom.min.js"></script>
		<script>
			var byColumns = "";
			$(function() {
				$(".column").sortable({
					connectWith : ".column"
				});

				$(".portlet-header .ui-icon").click(function() {
					$(this).toggleClass("ui-icon-minusthick").toggleClass("ui-icon-plusthick");
					$(this).parents(".portlet:first").find(".portlet-content").toggle();
					var sign = $(this).hasClass("ui-icon-plusthick") ? "plus" : "minus";
					var portlet_id = $(this).parent().parent().attr('id');
					$('#info_cols').html('?sendSigns=yes&portlet_id=' + portlet_id + '&sign=' + sign);

					//$.get("ajax.php"+'?sendSigns=yes&portlet_id='+portlet_id+'&sign='+sign, function(data){ $('#so').text(data);} );
				});

				$(".column").disableSelection();

				$(".column").on("sortstop", function(event, ui) {

					var i = 0;
					$("#left > div").each(function() {
						byColumns += '&left[' + i + ']=' + $(this).attr('id');
						i++;
					});

					var i = 0;
					$("#middle > div").each(function() {
						byColumns += '&middle[' + i + ']=' + $(this).attr('id');
						i++;
					});

					var i = 0;
					$("#right > div").each(function() {
						byColumns += '&right[' + i + ']=' + $(this).attr('id');
						i++;
					});

					byColumns = '?sendColumns=yes' + byColumns;

					//$.get("ajax.php"+byColumns, function(data){ $('#so').text(data);} );

					$('#info_cols').html(byColumns);

					byColumns = "";
				});

			});
		</script>	    
  </body>
</html>
